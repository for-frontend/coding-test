# 문제 링크

[PCCP 기출문제 3번](https://school.programmers.co.kr/learn/courses/30/lessons/250135)

# 1. 내 풀이

못 풀었다.

## 풀이 방법

```js
function solution(h1, m1, s1, h2, m2, s2) {
  function getCount(h, m, s) {
    let bell = -1; // 0시0분0초는 1번만 울린다

    bell += (h * 60 + m) * 2; // 초침이 한바퀴 돌때 시침, 분침 총 2번 만난다
    bell -= h; // 59분 -> 00분일때 분침은 초침과 만나지 않는다
    if (h >= 12) bell -= 2; // 11시59분59초->12시경우 분,초침과 만나지 않고 12시에 1번 만난다

    const hDegree = (h * 30 + m * 0.5 + s * (0.5 / 60)) % 360;
    const mDegree = (m * 6 + 0.1 * s) % 360;
    const sDegree = (6 * s) % 360;

    if (sDegree >= hDegree) bell++; // 초침이 시침을 지나쳤다
    if (sDegree >= mDegree) bell++; // 초침이 분침을 지나쳤다

    return bell;
  }
  // 0시0분0초부터 시작, 끝 시각까지 횟수
  let totalBell = getCount(h2, m2, s2) - getCount(h1, m1, s1);
  // 시작시간이 0시거나 12시이면 +1
  if ((h1 === 0 || h1 === 12) && m1 === 0 && s1 === 0) totalBell++;
  return totalBell;
}
```

# 2. 느낀 점

어려운 수학문제인 것 처럼 느껴졌다. 테스트케이스를 보며 시계가 돌아가는 걸 손으로 그려봐도 문제에 나온 예제조차 이해가 잘 가지 않았다.
몇 시간 고민하다가 결국 다른 분의 풀이를 봤다. 대략의 방법은 알 수 있었지만 내 맘에 쏙 들게 이해가 완벽하게 되진 않았다. 솔직히 이런 문제가 코테에 나올까 의문스럽기도 했다. 알고리즘, 자료구조를 쓰지않는 단순한 구현이라고 생각하기 때문이다. 변별력을 기르는데는 도움이 되겠지만 난 이것보다 다른 문제를 정확히 풀 것 같다.

# 3. 배운 점

이해가 되는 선에서 새로 배운 부분을 정리해보았따.

초침이 한 바퀴 돌때 시침과 분침을 각각 지나쳐 2번 알람이 울린다.

1분동안 2번 울리므로
60분동안 2번 \* 60분 = 120번 울린다

이 논리대로라면

```
0시~1시 사이120번
1시~2시 사이 120번
2시~3시 사이 120번
...

22시~23시 사이 120번
23시~0시 사이 120번
0시~24시

24시간 동안 120\*24 = 2880번이 울린다.
```

하지만 자세히 생각해보면

- 분침과 초침은 59분 => 00분으로 갈때마다 만나지 않는다 (매 시각 이 간격마다 울리는 횟수를 하나씩 줄인다 -24)
- 시침과 초침은 11시 => 12시, 23시 => 0시로 갈 때마다 만나지 않는다 (-2)
- 시침, 초침, 분침이 다 같이 겹친 경우 0시0분0초, 12시0분0초에는 카운트를 1로 친다 (-2)

따라서 0시0분0초에서 23시59분 59초까지 울리는 횟수는 2880-24-2-2 = 2852번이다.</br></br>

## 시작시각에서 끝시각 사이 울리는 횟수는 어떻게 구할까?

시작시각 ~ 끝시각 사이 울린 횟수 = 0시0분0초부터 끝시각까지 울린 횟수 - 0시0분0초부터 시작시각까지 울린 횟수 </br></br>

## 그럼 0시0분0초부터 특정 시각까지 울리는 횟수는 어떻게 구할까

0시0분0초에서 1시00분30초까지 울리는 횟수를 구한다고 가정하면

1시0분까지 울리는 횟수 + 30초간 울리는 횟수를 더하면 된다.

30초간 울리는 횟수는 0시0분0초를 각도 0이라고 봤을 때 시침, 분침, 초침의 각도에 따라 판단할 수 있다.

- 초침의 각도 >= 시침의 각도이면 초침은 이미 시침을 지나친것이므로 종이 1번 울렸다
- 초침의 각도 >= 분침의 각도이면 마찬가지로 종이 1번 울렸다. </br></br>

## 그럼 각 각도는 어떻게 구할까

```
시침은
1시간당 360도 / 12시간 = 30도 회전한다
1분당 30도 / 60 = 0.5도 회전한다
1초당 0.5 / 60 = 0.0083도 회전한다
=> 시침의 각도 = ( 30 *시 + 0.5*분 + 0.0083 \*초 ) %360 도 (마지막에 360도로 나누는 이유는 360도 = 0도로 변환하기 위해서이다.)

분침은
1분당 360도 / 60분 = 6도 회전한다
1초당 6 / 60 = 0.1도 회전한다
=> 분침의 각도 = (6*분 + 0.1*초) % 360 도

초침은
1초당 360도 / 60 = 6도 회전한다
=> 초침의 각도 = (6\*초) % 360 도
```
